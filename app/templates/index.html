{% extends "base.html" %}

{% block extra_head %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
{% endblock %}

{% block profile %}
<div class="profile" id="profile">
    <div id="profile-picture" class="profile-picture">
        <img src="/static/img/logo.jpg">
    </div>
    <h1>{{ title }}</h1>
</div>
{% endblock %}


{% block content %}
<!-- About me -->
<section class="hero">
    <div class="hero-text">
        <div class="about">
            <h2>Hi</h2>
            <h1>I'm <span class="highlight">{{ name }}</span><br />a <span class="highlight-role">{{ role }}</span></h1>
            <p class="about-description">{{ about_text }}</p>
            
            <!-- Call to Action Buttons -->
            <div class="cta-buttons">
                <a href="#work-experience" class="btn btn-primary" aria-label="View my work experience">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zM5 8v1.43a24.953 24.953 0 005 .57 24.95 24.95 0 005-.57V8H5z"/>
                        <path d="M15 11.43V15a2 2 0 01-2 2H7a2 2 0 01-2-2v-3.57a24.95 24.95 0 005 .57 24.95 24.95 0 005-.57z"/>
                    </svg>
                    View My Work
                </a>
                <a href="/timeline" class="btn btn-primary" aria-label="View timeline and posts">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/>
                        <path d="M3 4a1 1 0 011-1h1a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h1a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1v-3zM8 4a1 1 0 011-1h6a1 1 0 110 2H9a1 1 0 01-1-1zM8 10a1 1 0 011-1h6a1 1 0 110 2H9a1 1 0 01-1-1z"/>
                    </svg>
                    Timeline
                </a>
            </div>
        </div>
    </div>
</section>


<!-- Work Experience -->
<section class="hero" id="work-experience">
    <div class="hero-text">
        <div class="about work-section">
            <h2>Work Experience</h2>
            <p class="section-description">Professional journey and key achievements</p>
            <div class="experience-container">
                {% for experience in work_experiences %}
                <div class="experience-card">
                    <div class="card-header">
                        <h3>{{ experience.title }}</h3>
                        <div class="company-info">
                            <div class="company">{{ experience.company }}</div>
                            <div class="duration">{{ experience.duration }}</div>
                        </div>
                    </div>
                    <ul class="achievements-list">
                        {% for achievement in experience.achievements %}
                        <li>{{ achievement }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Projects -->
<section class="hero" id="projects">
    <div class="hero-text">
        <div class="about projects-section">
            <h2>Featured Projects</h2>
            <p class="section-description">Key projects showcasing technical skills and innovation</p>
            <div class="projects-container">
                {% for project in projects %}
                <div class="project-card">
                    <div class="card-header">
                        <h3>{{ project.name }}</h3>
                        <p class="project-description">{{ project.description }}</p>
                        <div class="tech-stack">
                            {% for tech in project.technologies %}
                            <span class="tech-tag">{{ tech }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {% if project.achievements %}
                    <ul class="achievements-list">
                        {% for achievement in project.achievements %}
                        <li>{{ achievement }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                    <div class="project-links">
                        {% if project.github_url and project.github_url != '#' %}
                        <a href="{{ project.github_url }}" class="btn btn-secondary" target="_blank" rel="noopener" aria-label="View {{ project.name }} on GitHub">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            GitHub
                        </a>
                        {% endif %}
                        {% if project.demo_url and project.demo_url != '#' %}
                        <a href="{{ project.demo_url }}" class="btn btn-primary" target="_blank" rel="noopener" aria-label="View {{ project.name }} live demo">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"/>
                            </svg>
                            Live Demo
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Education -->
<section class="hero" id="education">
    <div class="hero-text">
        <div class="about education-section">
            <h2>Education</h2>
            <p class="section-description">Academic background and achievements</p>
            <div class="education-container">
                {% for edu in education %}
                <div class="education-card">
                    <div class="card-header">
                        <h3>{{ edu.degree }}</h3>
                        <div class="school-info">
                            <div class="school">{{ edu.school }}</div>
                            <div class="duration">{{ edu.duration }}</div>
                        </div>
                    </div>
                    {% if edu.achievements %}
                    <ul class="achievements-list">
                        {% for achievement in edu.achievements %}
                        <li>{{ achievement }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Hobbies -->
<section class="hero">
    <div class="hero-text">
        <div class="about hobbies-section">
            <h2>Hobbies & Interests</h2>
            <p class="section-description">What I'm passionate about outside of work</p>
            <div class="hobbies-container">
                {% for hobby in hobbies %}
                <div class="hobby-card">
                    {% if hobby.name == 'Photography' %}
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9ZM19 9H14V4H5V21H19V9Z"
                            fill="{{ hobby.icon_color }}" />
                        <path
                            d="M12 8C14.21 8 16 9.79 16 12C16 14.21 14.21 16 12 16C9.79 16 8 14.21 8 12C8 9.79 9.79 8 12 8ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"
                            fill="{{ hobby.icon_color }}" />
                    </svg>
                    {% elif hobby.name == 'Hiking' %}
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M14 6L15.29 7.29L16.59 6H19C20.1 6 21 6.9 21 8V18C21 19.1 20.1 20 19 20H5C3.89 20 3 19.1 3 18V8C3 6.9 3.89 6 5 6H7.41L8.71 7.29L10 6H14ZM12 8C9.24 8 7 10.24 7 13C7 15.76 9.24 18 12 18C14.76 18 17 15.76 17 13C17 10.24 14.76 8 12 8ZM12 10C13.66 10 15 11.34 15 13C15 14.66 13.66 16 12 16C10.34 16 9 14.66 9 13C9 11.34 10.34 10 12 10Z"
                            fill="{{ hobby.icon_color }}" />
                    </svg>
                    {% elif hobby.name == 'Open Source' %}
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z"
                            fill="{{ hobby.icon_color }}" />
                    </svg>
                    {% endif %}
                    <h3>{{ hobby.name }}</h3>
                    <p>{{ hobby.description }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Places I've Visited -->
<section class="hero" id="visited-places">
    <div class="hero-text">
        <div class="about">
            <h2>Places I've Visited</h2>
            <p class="section-description">Exploring the world, one destination at a time</p>
            <div class="map-container">
                <div id="map" style="height: 500px;"></div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_scripts %}
<script>
document.addEventListener("DOMContentLoaded", () => {
    const map = L.map('map').setView([20, 0], 2);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const locations = {{ visited_locations|tojson|safe }};

    locations.forEach(location => {
        const marker = L.marker(location.coords).addTo(map)
            .bindTooltip(
                `<strong>${location.name}</strong><br>${location.description}`,
                {
                    permanent: true,
                    direction: 'top',
                    offset: [0, -20],
                    className: 'custom-tooltip'
                }
            );

        marker.setIcon(
            L.icon({
                iconUrl: 'https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678111-map-marker-512.png',
                iconSize: [32, 32],
                iconAnchor: [16, 32]
            })
        );
    });
});
</script>
{% endblock %}